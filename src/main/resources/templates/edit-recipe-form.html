<!DOCTYPE html>
<html lang="en" xmlns:th="https://www.thymeleaf.org/">
<head th:replace="fragments :: head"></head>

<body class="container body-content">
<nav th:replace="fragments :: page-header"></nav>
<form method='post' action="/saveEditedRecipe">
    <div class="form-group">
        <img  th:src="${editThisRecipe.imageUrl}" width="320" height="320" onerror="this.onerror=null; this.src='./images/meal-placeholder.jpg'"><br>
        <input type="text" name="imageUrl" placeholder="Add new image Url">
    </div>

    <div class="form-group">
        <label>Dish Name:
            <input type="text" name="name" th:value="${editThisRecipe.name}">
        </label>
    </div>

    <div class="form-group">
        <label>Ingredients(uncheck box to remove):<br>
            <tr th:each="ingredient : ${currentIngredients}">
                <input  type="checkbox" th:id="${ingredient}" name="originalIngredients" th:text="${ingredient}" th:value="${ingredient}" checked>
            </tr>
            <input type="text" name="ingredients" id="ingredientInput" placeholder="Ex: 1 cup of flour" aria-label="Add Ingredient" aria-describedby="basic-addon2"><br>
            <input type="hidden" name="hiddenIngredients" id="hiddenIngredients">
            <div class="input-group-append">
                <button class="btn btn-outline-info" id="add" type="button">Add New Ingredient</button>
            </div>
        </label>
    </div>
<!--    <div class="col-12">-->
<!--        <ul class="list-group" width="70px">-->
<!--        </ul>-->
<!--    </div>-->

    <div class="form-group">
        <label>Preparation Instructions:<br>
            <textarea name="description" rows="3" cols="25" maxlength="1000" th:text="${editThisRecipe.description}"></textarea>
        </label>
    </div>

    <div class="form-group">
        <label>Prep Time:<br>
            <input type="text" name="prepTime" th:value="${editThisRecipe.prepTime}">
        </label>
    </div>

    <div class="form-group">
        <label>Category
            <select name="category">
                <option th:each="category : ${categories}"
                        th:value="${category.id}"
                        th:text="${category.name}">
                </option>
            </select>
        </label>
    </div>
    <input type="hidden" th:value="${editThisRecipe.id}" name="oldRecipeId">
    <input type="hidden" name="ingredients">
    <button class="btn btn-primary" type="submit" value="Submit">Submit</button>
</form>
</body>


<script src="https://code.jquery.com/jquery-3.1.0.js"></script>
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.0/umd/popper.min.js" integrity="sha384-cs/chFZiN24E4KMATLdqdvsezGxaGsi4hLGOzlXwp5UZB1LY//20VyM2taTB4QvJ" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/js/bootstrap.min.js" integrity="sha384-uefMccjFJAIv6A+rW+L4AHf99KvxDjWSu1z9VI8SKNVmz4sk7buKt/6v9KI65qnm" crossorigin="anonymous"></script>
<script src="../script.js"></script>

<script>
window.addEventListener('keydown', function(e) {
    if (e.keyIdentifier == 'U+000A' || e.keyIdentifier == 'Enter' || e.keyCode == 13) {
        e.preventDefault();
        return false;
    }
}, true);
</script>
</html>